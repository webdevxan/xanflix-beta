"use strict";exports.id=650,exports.ids=[650],exports.modules={81:(e,a,t)=>{t.d(a,{Z:()=>m,_:()=>h});var s=t(5344),l=t(3729),r=t(1298),i=t(3490),o=t(1453),n=t(7765),d=t(5094),c=t(8428);let m=({title:e,shows:a})=>{let t=(0,c.usePathname)(),r=l.useRef(null),[i,m]=l.useState(!1),p=e=>{if(!r.current)return;m(!0);let{scrollLeft:a,offsetWidth:t}=r.current,s=t>1400?60:.04*t;r.current.scrollTo({left:"left"===e?a-(t-2*s):a+(t-2*s),behavior:"smooth"}),0===a&&"left"===e?r.current.scrollTo({left:r.current.scrollWidth,behavior:"smooth"}):a+t===r.current.scrollWidth&&"right"===e&&r.current.scrollTo({left:0,behavior:"smooth"})};return s.jsx("section",{"aria-label":"Carousel of shows",className:"relative my-[3vw] p-0",children:0!==a.length&&(0,s.jsxs)("div",{className:"space-y-1 sm:space-y-2.5",children:[s.jsx("h2",{className:"m-0 px-[4%] text-lg font-semibold text-foreground/80 transition-colors hover:text-foreground sm:text-xl 2xl:px-[60px]",children:e??"-"}),(0,s.jsxs)("div",{className:"relative w-full items-center justify-center overflow-hidden",children:[s.jsx(d.z,{"aria-label":"Scroll to left",variant:"ghost",className:(0,o.cn)("absolute left-0 top-0 z-10 mr-2 hidden h-full w-[4%] items-center justify-center rounded-l-none bg-transparent py-0 text-transparent hover:bg-secondary/90 hover:text-foreground md:block 2xl:w-[60px]",i?"md:block":"md:hidden"),onClick:()=>p("left"),children:s.jsx(n.P.chevronLeft,{className:"h-8 w-8","aria-hidden":"true"})}),s.jsx("div",{ref:r,className:"no-scrollbar m-0 grid auto-cols-[calc(100%/3)] grid-flow-col overflow-x-auto overflow-y-hidden px-[4%] py-0 duration-500 ease-in-out sm:auto-cols-[25%] md:touch-pan-y lg:auto-cols-[20%] xl:auto-cols-[calc(100%/6)] 2xl:px-[60px]",children:a.map(e=>s.jsx(h,{show:e,pathname:t},e.id))}),s.jsx(d.z,{"aria-label":"Scroll to right",variant:"ghost",className:"absolute right-0 top-0 z-10 m-0 ml-2 hidden h-full w-[4%] items-center justify-center rounded-r-none bg-transparent py-0 text-transparent hover:bg-secondary/70 hover:text-foreground md:block 2xl:w-[60px]",onClick:()=>p("right"),children:s.jsx(n.P.chevronRight,{className:"h-8 w-8","aria-hidden":"true"})})]})]})})},h=({show:e,pathname:a})=>(0,s.jsxs)("picture",{className:"relative aspect-[2/3] group overflow-hidden rounded-lg",children:[s.jsx("a",{className:"pointer-events-none","aria-hidden":!1,role:"link","aria-label":(0,o.s8)(e),href:`/${e.media_type}/${(0,o.QF)(e.id,(0,o.s8)(e))}`}),s.jsx("img",{src:e.poster_path??e.backdrop_path?`https://image.tmdb.org/t/p/w500/${e.poster_path??e.backdrop_path}`:"/images/grey-thumbnail.jpg",alt:e.title??e.name??"poster",className:"h-full w-full cursor-pointer object-cover transition-all duration-300 group-hover:scale-110",onClick:()=>{let a=(0,o.s8)(e),t=e.media_type===i.D.TV?"tv-shows":"movies";window.history.pushState(null,"",`${t}/${(0,o.QF)(e.id,a)}`),r.a.setState({show:e,open:!0,play:!0})},onError:e=>{e.currentTarget.src="/images/grey-thumbnail.jpg"}}),s.jsx("div",{className:"absolute inset-0 bg-black/0 transition-colors duration-300 group-hover:bg-black/20 glass opacity-0 group-hover:opacity-100 pointer-events-none"})]})},650:(e,a,t)=>{t.d(a,{Z:()=>x});var s=t(5344),l=t(1298),r=t(9562),i=t(81),o=t(8428),n=t(6126),d=t(4114);let c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.25}}},m={hidden:{opacity:0},visible:{opacity:1}};var h=t(1453);function p({className:e,...a}){return s.jsx("div",{className:(0,h.cn)("animate-pulse rounded-md bg-muted",e),...a})}let u=({count:e=6,classname:a="",variant:t="with-title"})=>{let l=(0,n.R)();return s.jsx(s.Fragment,{children:"with-title"===t?(0,s.jsxs)("div",{className:(0,h.cn)("no-scrollbar container mx-0 w-full max-w-[100%] overflow-x-auto overflow-y-hidden",a),children:[s.jsx(p,{className:"h-[1.62rem] w-28 rounded bg-neutral-700"}),s.jsx("div",{className:(0,h.cn)("xxs:grid-cols-2 xxs:gap-x-1.5 xxs:gap-y-5 mt-2.5 grid w-fit gap-y-3.5 xs:grid-cols-3 xs:gap-y-7 sm:grid-cols-3 sm:gap-y-10 md:grid-cols-4 md:gap-y-12 lg:gap-y-14 xl:grid-cols-6 xl:gap-y-16",l.query&&"max-sm:grid-cols-3 max-[375px]:grid-cols-2"),children:Array.from({length:e},(e,a)=>s.jsx(d.E.div,{variants:m,children:s.jsx("picture",{className:"relative aspect-[2/3]",children:s.jsx("img",{alt:"poster",src:"/images/grey-thumbnail.jpg",className:"h-full w-full cursor-pointer rounded-lg px-1 transition-all md:hover:scale-110",style:{objectFit:"cover"}})})},a))})]}):s.jsx(d.E.div,{className:"no-scrollbar container mx-0 flex w-full items-center gap-1.5 overflow-x-auto overflow-y-hidden",initial:"hidden",animate:"visible",variants:c,children:Array.from({length:e},(e,a)=>s.jsx(d.E.div,{variants:m,children:s.jsx(p,{className:"aspect-[2/3] min-w-[15rem] rounded bg-neutral-700"})},a))})})},x=({shows:e,query:a})=>{let t=(0,o.usePathname)(),d=(0,l.a)(),c=(0,n.R)();return(0,s.jsxs)("section",{"aria-label":"Grid of shows",className:"container w-full max-w-none",children:[d.open&&s.jsx(r.Z,{}),s.jsx("div",{className:"main-view mt-4 min-h-[800px] pt-[5%]",id:"main-view",children:a&&c.loading?s.jsx(u,{classname:"pl-0"}):a&&!e?.length?s.jsx("div",{className:"text-center",children:(0,s.jsxs)("div",{className:"inline-block text-left text-sm",children:[s.jsx("p",{className:"mb-4",children:`Your search for "${a}" did not have any matches.`}),s.jsx("p",{className:"mb-4",children:"Suggestions:"}),(0,s.jsxs)("ul",{className:"list-disc pl-8",children:[s.jsx("li",{children:"Try different keywords"}),s.jsx("li",{children:"Looking for a movie or TV show?"}),s.jsx("li",{children:"Try using a movie, TV show title, an actor or director"}),s.jsx("li",{children:"Try a genre, like comedy, romance, sports, or drama"})]})]})}):s.jsx("div",{className:(0,h.cn)("xxs:grid-cols-2 xxs:gap-x-1.5 xxs:gap-y-5 grid w-fit gap-y-3.5 xs:grid-cols-3 xs:gap-y-7 sm:grid-cols-3 sm:gap-y-10 md:grid-cols-4 md:gap-y-12 lg:gap-y-14 xl:grid-cols-6 xl:gap-y-16",a&&"max-sm:grid-cols-3 max-[375px]:grid-cols-2"),children:e.map(e=>s.jsx(i._,{show:e,pathname:t},e.id))})})]})}},9562:(e,a,t)=>{t.d(a,{Z:()=>z});var s=t(5344),l=t(3729),r=t(1298),i=t(3490),o=t(770),n=t(9410),d=t(1453),c=t(7765),m=t(5094),h=t(8794),p=t(4513);let u=h.fC;h.xz;let x=h.h_;h.x8;let g=l.forwardRef(({className:e,...a},t)=>s.jsx(h.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));g.displayName=h.aV.displayName;let f=l.forwardRef(({className:e,children:a,...t},l)=>(0,s.jsxs)(x,{children:[s.jsx(g,{}),(0,s.jsxs)(h.VY,{ref:l,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(h.x8,{className:"absolute right-4 top-4 z-[10] rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(p.Z,{className:"h-6 w-6"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));f.displayName=h.VY.displayName;let v=l.forwardRef(({className:e,...a},t)=>s.jsx(h.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));v.displayName=h.Dx.displayName;let y=l.forwardRef(({className:e,...a},t)=>s.jsx(h.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",e),...a}));y.displayName=h.dk.displayName;var w=t(6506),j=t(128),b=t(8428);let N="undefined"==typeof navigator?"SSR":navigator.userAgent,{isMobile:k}=(0,d.GT)(N),_={playerVars:{rel:0,mute:k()?1:0,loop:1,autoplay:1,controls:0,showinfo:0,disablekb:1,enablejsapi:1,playsinline:1,cc_load_policy:0,modestbranding:3}},z=()=>{(0,b.usePathname)();let e=(0,r.a)(),a=k(),[t,h]=l.useState(""),[p,x]=l.useState(!0),[g,N]=l.useState([]),[z,S]=l.useState(e.firstLoad||a),[T,P]=l.useState(_),V=l.useRef(null),R=l.useRef(null);l.useEffect(()=>{(e.firstLoad||a)&&P(e=>({...e,playerVars:{...e.playerVars,mute:1}})),C()},[]);let C=async()=>{let a=e.show?.id,t=e.show?.media_type===i.D.TV?"tv":"movie";if(!a||!t)return;let s=await j.Z.findMovieByIdAndType(a,t);if(s?.genres&&N(s.genres),s.videos?.results?.length){let e=(s.videos?.results).find(e=>"Trailer"===e.type);e?.key&&h(e.key)}};return s.jsx(u,{open:e.open,onOpenChange:()=>{e.reset(),!e.show||e.firstLoad?window.history.pushState(null,"","/home"):window.history.back()},"aria-label":"Modal containing show's details",children:(0,s.jsxs)(f,{className:"w-full overflow-hidden rounded-md glass p-0 text-left align-middle shadow-xl sm:max-w-3xl lg:max-w-4xl animate-in fade-in zoom-in-95 duration-300",children:[(0,s.jsxs)("div",{className:"video-wrapper relative aspect-video",children:[s.jsx(n.default,{fill:!0,priority:!0,ref:R,alt:e?.show?.title??"poster",className:"-z-40 z-[1] h-auto w-full object-cover",src:`https://image.tmdb.org/t/p/original/${e.show?.backdrop_path}`}),t&&s.jsx(o.Z,{opts:T,onEnd:e=>{e.target.seekTo(0)},onPlay:()=>{if(R.current&&(R.current.style.opacity="0"),V.current){let e=document.getElementById("video-trailer");e&&e.classList.remove("opacity-0")}},ref:V,onReady:e=>{e.target.playVideo()},videoId:t,id:"video-trailer",title:e.show?.title??e.show?.name??"video-trailer",className:"relative aspect-video w-full",style:{width:"100%",height:"100%"},iframeClassName:"relative pointer-events-none w-[100%] h-[100%] z-0 opacity-0"}),(0,s.jsxs)("div",{className:"absolute bottom-6 z-20 flex w-full items-center justify-between gap-2 px-10",children:[s.jsx("div",{className:"flex items-center gap-2.5",children:s.jsx(w.default,{href:`/watch/${e.show?.media_type===i.D.MOVIE?"movie":"tv"}/${e.show?.id}`,children:s.jsx(m.z,{"aria-label":`${p?"Pause":"Play"} show`,className:"group h-auto rounded py-1.5",children:(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.P.play,{className:"mr-1.5 h-6 w-6 fill-current","aria-hidden":"true"}),"Play"]})})})}),s.jsx(m.z,{"aria-label":`${z?"Unmute":"Mute"} video`,variant:"ghost",className:"h-auto rounded-full bg-neutral-800 p-1.5 opacity-50 ring-1 ring-slate-400 hover:bg-neutral-800 hover:opacity-100 hover:ring-white focus:ring-offset-0 dark:bg-neutral-800 dark:hover:bg-neutral-800",onClick:()=>{if(S(e=>!e),!V.current)return;let e=V.current;z&&V.current?e.internalPlayer.unMute():V.current&&e.internalPlayer.mute()},children:z?s.jsx(c.P.volumeMute,{className:"h-6 w-6","aria-hidden":"true"}):s.jsx(c.P.volume,{className:"h-6 w-6","aria-hidden":"true"})})]})]}),(0,s.jsxs)("div",{className:"grid gap-2.5 px-10 pb-10",children:[s.jsx(v,{className:"text-lg font-medium leading-6 text-slate-50 sm:text-xl",children:e.show?.title??e.show?.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm sm:text-base",children:[(0,s.jsxs)("p",{className:"font-semibold text-green-400",children:[Math.round(Number(e.show?.vote_average)/10*100)??"-","% Match"]}),e.show?.release_date?s.jsx("p",{children:(0,d.So)(e.show?.release_date)}):e.show?.first_air_date?s.jsx("p",{children:(0,d.So)(e.show?.first_air_date)}):null,e.show?.original_language&&s.jsx("span",{className:"grid h-4 w-7 place-items-center text-xs font-bold text-neutral-400 ring-1 ring-neutral-400",children:e.show.original_language.toUpperCase()})]}),s.jsx(y,{className:"line-clamp-3 text-xs text-slate-50 dark:text-slate-50 sm:text-sm",children:e.show?.overview??"-"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-slate-400",children:"Genres:"}),g.map(e=>e.name).join(", ")]})]})]})})}},1298:(e,a,t)=>{t.d(a,{a:()=>s});let s=(0,t(3158).Ue)()(e=>({open:!1,setOpen:a=>e(()=>({open:a})),firstLoad:!1,setFirstLoad:a=>e(()=>({firstLoad:a})),show:null,setShow:a=>e(()=>({show:a})),play:!1,setPlay:a=>e(()=>({play:a})),reset:()=>e(()=>({show:null,open:!1,play:!1,firstLoad:!1}))}))},3490:(e,a,t)=>{var s;t.d(a,{D:()=>s}),function(e){e.ALL="all",e.TV="tv",e.MOVIE="movie"}(s||(s={}))}};